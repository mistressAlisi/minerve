{% extends "minerve/base/page.html" %}
{% block MINERVE_PAGE_NAV_HEADER %}
  <!-- Top Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top border-bottom">
      <div class="container-fluid">

      <a class="navbar-brand d-flex align-items-center" href="/">
      {% if vdomain.website_icon %}
            <img src="{{ vdomain.website_icon.url }}" alt="icon" width="40" height="40" class="me-2">
      {% elif vhost.website_icon %}
          <img src="{{ vhost.website_icon.url }}" alt="icon" width="40" height="40" class="me-2">
      {% endif %}
      {% if vdomain.show_website_name %}
        <span class="d-none d-md-none">{{ vdomain.website_name }}</span>
      {% endif %}
      </a>

      {% block MINERVE_NAV_PAGE_NAME %}

      {% endblock %}


      <div class="collapse navbar-collapse justify-content-center" id="dashboardNavbar">
        <ul class="navbar-nav mb-2 mb-lg-0 ">
        {% block DYNAMIC_DASHBOARD_TOP_MENU_ULTOP %}
        {% endblock %}
        {% for entry in DYNAMIC_DASHBOARD_TOP_MENU %}

            <li class="nav-item {% if entry.has_submenus %}dropdown{% endif %}">
            <a class="nav-link {% if entry.has_submenus %}dropdown-toggle{% endif %}" href="{{ entry.url }}"
                    {% if entry.on_click %} onclick="{{ entry.on_click }}"{% endif %}
                    {%  if entry.active %} active="active"{% endif %}
                    {% if entry.help_text %} title="{{ entry.help_text }}"{% endif %}
                    {% if entry.has_submenus %} data-bs-toggle="dropdown" aria-expanded="false" {% endif %}>

            {% if entry.icon %}
                <i class="{{ entry.icon }}"></i>
            {% endif %}
                {{ entry.name }}
            </a>
          {% if entry.has_submenus %}
          <ul class="dropdown-menu">
              {% for submenu in entry.get_submenus %}
                  <li><a class="dropdown-item submenu-entry"
                  help_text="{{ submenu.help_text }}"
                  {% if submenu.target_url %}
                          data-target-url="{{ submenu.target_url }}" href="#"
                 {% else %}
                          href="{{ submenu.url }}"
                 {% endif %}
                  {% if submenu.on_click %}
                         on_click="{{ submenu.onclick }}"
                 {% endif %}>
                      {% if submenu.icon %}
                      <i class="{{ submenu.icon }}"></i>
                      {% endif %}
                      {{ submenu.name }}
                  </a></li>
              {% endfor %}

          </ul>

          {% endif %}
          </li>
        {% endfor %}
        {% block DYNAMIC_DASHBOARD_TOP_MENU_ULBOT %}
        {% endblock %}
        </ul>

      </div>
    <!-- Mobile Sidebar Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#dashboardNavbar" aria-controls="dashboardNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <i class="bi bi-list"></i>
    </button>
      <div class="d-lg-flex d-md-flex d-xl-flex d-xxl-flex d-none">
      {% block MINERVE_NAV_LOGIN_AREA %}
        {% if account %}
            <div class="my-account-text p-2">
                <a href="/my/profile" title="My Account"><i class="fa-duotone fa-solid fa-circle-user"></i> {{ account.acctnum }}</a> | <a  href="#" onclick="cashier.start_deposit_modal()" id="balance-link" title="Available Balance"><i class="fa-duotone fa-solid fa-coins"></i><span class="avail_balance">{{ available_balance |floatformat:2 }}</span></a> | <a class="" href="/api/v1/account/logout" title="Logout"><i class="fa-duotone fa-solid fa-person-from-portal"></i>&#160;Sign Out</a>
            </div>
          {% endif %}
      {% endblock %}
      </div>
    </div>

  </nav>
{% endblock %}

{% block MINERVE_PAGE_BODY %}
{% block DYNAMIC_DASHBOARD_PRE_BODY %}
  {% endblock %}
    <main class="content flex-grow-1 d-flex pb-4 px-1" id="main-content">
      {% block DYNAMIC_DASHBOARD_BODY %}
        <div class=" justify-content-center align-items-center text-center">
          <h1>Main Content Area</h1>
          <p class="lead">Replace the DYNAMIC_DASHBOARD_BODY block to put content here.</p>
        </div>
      {% endblock %}
    </main>
{% endblock %}
{% block MINERVE_PAGE_FOOTER %}
    {% include "minerve/pages/dynamic_dashboard/loading_toast.html" %}

{% endblock %}

